"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[680],{680:function(n,e,r){r.r(e),r.d(e,{default:function(){return E}});var t=r(439),i=r(861),o=r(687),a=r.n(o),l=r(243);function u(){return(u=(0,i.Z)(a().mark((function n(){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.Z.get("/adverts");case 3:return e=n.sent,r=e.data,n.abrupt("return",r);case 8:return n.prev=8,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",[]);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}l.Z.defaults.baseURL="https://65215f44a4199548356d2007.mockapi.io/cars";var c,d,s,p,f,x,h,m,g,b=r(791),v=r(168),Z=r(686),j=Z.Z.div(c||(c=(0,v.Z)(["\n  display: flex;\n  justify-content: center;\n  padding-bottom: 50px;\n"]))),k=Z.Z.form(d||(d=(0,v.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),y=Z.Z.label(s||(s=(0,v.Z)(["\n  width: 224px;\n\n  display: flex;\n  flex-direction: column;\n  margin-right: 18px;\n  color: #8a8a89;\n\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.5;\n"]))),w=Z.Z.select(p||(p=(0,v.Z)(["\n  width: 100%;\n  height: 48px;\n  margin-top: 8px;\n  /* padding: 14px 160px 14px 18px; */\n  padding-left: 18px;\n  border-radius: 14px;\n  border: none;\n  outline: none;\n\n  background-color: #f7f7fb;\n\n  /* font-family: Manrope; */\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 1.11;\n  color: #121417;\n\n  & > option {\n    background-color: #ffffff;\n    color: #12141733;\n  }\n"]))),S=Z.Z.label(f||(f=(0,v.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-right: 18px;\n  color: #8a8a89;\n\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 1.5;\n"]))),M=Z.Z.div(x||(x=(0,v.Z)(["\n  display: flex;\n  margin-top: 8px;\n"]))),L=Z.Z.input(h||(h=(0,v.Z)(["\n  width: 100%;\n  padding: 14px 0 14px 24px;\n\n  /* font-family: Manrope; */\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.11;\n  color: #121417;\n\n  border: none;\n  outline: none;\n  background-color: #f7f7fb;\n  border-radius: 0 14px 14px 0;\n\n  &:not(:last-child) {\n    border-right: 1px solid #8a8a8933;\n    border-radius: 14px 0px 0px 14px;\n  }\n"]))),P=Z.Z.button(m||(m=(0,v.Z)(["\n  width: 136px;\n  height: 48px;\n  padding: 14px, 44px, 14px, 44px;\n  border-radius: 12px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  background-color: #3470ff;\n  color: #ffffff;\n\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 1.43;\n"]))),C=r(184),z=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Chrysler","Kia","Land"],q=function(n){var e=n.onSubmit,r=n.carPriceList,t=n.min,i=n.max;return(0,C.jsx)(j,{children:(0,C.jsxs)(k,{onSubmit:function(n){n.preventDefault(),e(n.target)},children:[(0,C.jsxs)(y,{htmlFor:"car-brand",children:["Car brand",(0,C.jsx)(w,{id:"car-brand",name:"brand",required:!0,children:z.map((function(n){return(0,C.jsx)("option",{value:n,children:n},n)}))})]}),(0,C.jsxs)(y,{htmlFor:"price-hour",children:["Price/ 1 hour",(0,C.jsx)(w,{id:"price-hour",name:"price",required:!0,children:r.map((function(n){return(0,C.jsx)("option",{value:n,children:n},n)}))})]}),(0,C.jsxs)(S,{htmlFor:"mileage-km",children:[" ","\u0421ar mileage / km",(0,C.jsxs)(M,{children:[(0,C.jsx)(L,{id:"mileage-km",name:"min",type:"number",min:t,max:i,required:!0}),(0,C.jsx)(L,{id:"mileage-km",name:"max",type:"number",min:t,max:i,required:!0})]})]}),(0,C.jsx)(P,{type:"submit",children:"Search"})]})})},B=r(467),F=Z.Z.button(g||(g=(0,v.Z)(["\n  display: block;\n  margin: 0 auto;\n  padding: 0;\n  color: #3470ff;\n  text-decoration: underline;\n  border: none;\n  background-color: transparent;\n  text-align: center;\n  cursor: pointer;\n\n  &:disabled {\n    color: #0b44cd;\n    cursor: not-allowed;\n  }\n"]))),_=function(n){var e=n.handler,r=n.visible;return(0,C.jsx)(C.Fragment,{children:r?(0,C.jsx)(F,{onClick:function(){return e()},children:"Load more"}):(0,C.jsx)(F,{disabled:!0,children:"Load more"})})},N=r(241),A=function(){return(0,C.jsx)(N.i,{children:(0,C.jsx)(N.x,{children:"Sorry, no matches found. Try another query"})})},E=function(){var n=(0,b.useState)([]),e=(0,t.Z)(n,2),r=e[0],i=e[1],o=(0,b.useState)(1),a=(0,t.Z)(o,2),l=a[0],c=a[1],d=(0,b.useState)([]),s=(0,t.Z)(d,2),p=s[0],f=s[1],x=(0,b.useState)(null),h=(0,t.Z)(x,2),m=h[0],g=h[1],v=(0,b.useState)(null),Z=(0,t.Z)(v,2),j=Z[0],k=Z[1];(0,b.useEffect)((function(){(function(){return u.apply(this,arguments)})().then((function(n){var e=n.map((function(n){return Number(n.rentalPrice.slice(1,n.rentalPrice.length))})).sort((function(n,e){return n-e})).filter((function(n,e,r){return r.indexOf(n)===e}));f(e);var r=n.map((function(n){return n.mileage})).sort((function(n,e){return n-e})),t=r[0],o=r[r.length-1];g(t),k(o),i(n)}))}),[]);var y=function(){c(l+1)},w=8*l,S=r.slice(0,w);return(0,C.jsxs)("div",{children:[(0,C.jsx)(q,{onSubmit:function(n){var e=n.brand,t=n.price,o=n.min,a=n.max,l=r.filter((function(n){return n.make===e.value})).filter((function(n){return n.rentalPrice.slice(1,n.rentalPrice.length)===t.value})).filter((function(n){return n.mileage>=o.value&&n.mileage<=a.value}));i(l)},carPriceList:p,min:m,max:j}),S.length<1?(0,C.jsx)(A,{}):(0,C.jsx)(B.Z,{cars:S}),S.length>=w?(0,C.jsx)(_,{handler:y,visible:!0}):(0,C.jsx)(_,{handler:y,visible:!1})]})}}}]);
//# sourceMappingURL=680.528a443d.chunk.js.map